<ion-app>
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/apres-connexion/tab1"></ion-back-button>
      </ion-buttons>
      <ion-title>Validation des Signalements</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <ion-item *ngFor="let alerte of alertes">
        <ion-label>
          <h2>{{ alerte.type }}</h2>
          <p>{{ alerte.description }}</p>
          <p>ğŸ“ Position: {{ alerte.position[0] }}, {{ alerte.position[1] }}</p>
          <p>âœ… ConfirmÃ© par {{ alerte.confirmedCount }} utilisateurs</p>
          <p>âŒ RejetÃ© par {{ alerte.rejectedCount }} utilisateurs</p>
           <!-- Affichage du statut -->
    <p>Status:
      <span *ngIf="alerte.status === 'terminÃ©'">âœ… TerminÃ©</span>
      <span *ngIf="alerte.status === 'en cours'">â³ En cours</span>
      <span *ngIf="alerte.status === 'rÃ©glÃ©'">âŒ RejetÃ©</span>
    </p>


    <p *ngIf="alerte.distance">ğŸ“ Distance: {{ alerte.distance | number:'1.1-2' }} km</p>

        </ion-label>

        <ion-buttons slot="end">
          <ion-button
            color="success"
            (click)="confirmIncident(alerte.id)"
            [disabled]="alerte.userVote !== null">
            âœ…
          </ion-button>

          <ion-button
            color="danger"
            (click)="rejectIncident(alerte.id)"
            [disabled]="alerte.userVote !== null">
            âŒ
          </ion-button>

          <ion-button color="medium" (click)="voirDetails(alerte)">
            ğŸ‘ï¸
          </ion-button>
        </ion-buttons>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-app>



